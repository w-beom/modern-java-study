# Chapter8 ì»¬ë ‰ì…˜ APIê°œì„ 

### ì´ ì¥ì˜ ë‚´ìš©

- ì»¬ë ‰ì…˜ íŒ©í† ë¦¬ ì‚¬ìš©í•˜ê¸°
- ë¦¬ìŠ¤íŠ¸ ë° ì§‘í•©ê³¼ ì‚¬ìš©í•  ê´€ìš© íŒ¨í„´ ë°°ìš°ê¸°
- ë§µê³¼ ì‚¬ìš©í•  ìƒˆë¡œìš´ ê´€ìš© íŒ¨í„´ ë°°ìš°ê¸°

## ì»¬ë ‰ì…˜ íŒ©í† ë¦¬

ìë°” 9ì—ì„œëŠ” ì‘ì€ ì»¬ë ‰ì…˜ ê°ì²´ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ë°©ë²•ì„ ì œê³µí•œë‹¤.

ìë°”ì—ì„œëŠ” ì ì€ ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ì–´ë–»ê²Œ ë§Œë“¤ê¹Œ?

```java
List<String> friends = new ArryaList<>();
friends.add("Raphael");
friends.add("Olivia");
friends.add("Thibaut");
```

ë‹¤ìŒì²˜ëŸ¼ `Arrays.asList()` íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ë©´ ì½”ë“œë¥¼ ê°„ë‹¨í•˜ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```java
List<String> friends = Arrays.asList("Raphael", "Olivia", "Thibaut");
```

ê³ ì • í¬ê¸°ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ ìš”ì†Œë¥¼ ê°±ì‹ í•  ìˆœ ìˆì§€ë§Œ ìƒˆ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìš”ì†Œë¥¼ ì‚­ì œí•  ìˆœ ì—†ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ìš”ì†Œë¥¼ ê°±ì‹ í•˜ëŠ” ì‘ì—…ì€ ê´œì°®ì§€ë§Œ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ë ¤ í•˜ë©´ `UnsupportedOperationException`ì´ ë°œìƒí•œë‹¤.

```java
List<String> friends = Arrays.asList("Raphael", "Olivia");
friends.set(0, "Richard");
frineds.add("Thibaut"); //exception ë°œìƒ
```

### UnsupportedOperationException ì˜ˆì™¸ ë°œìƒ

ë‚´ë¶€ì ìœ¼ë¡œ ê³ ì •ëœ í¬ê¸°ì˜ ë³€í™˜í•  ìˆ˜ ìˆëŠ” ë°°ì—´ë¡œ êµ¬í˜„ë˜ì—ˆê¸° ë•Œë¬¸ì— ì´ì™€ ê°™ì€ ì¼ì´ ì¼ì–´ë‚œë‹¤.

ê·¸ëŸ¼ ì§‘í•©ì€ ì–´ë–¨ê¹Œ? ì•ˆíƒ€ê¹ê²Œë„ `Arrys.asSet()`ì´ë¼ëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œëŠ” ì—†ìœ¼ë¯€ë¡œ ë‹¤ë¥¸ ë°©ë²•ì´ í•„ìš”í•˜ë‹¤.

ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ” `HashSet` ìƒì„±ìë¥¼ ì‚¬ìš©í•  ìˆ˜ìˆë‹¤.

```java
Set<String> friends = new HashSet<>(Arryas.asList("Raphael", "Olivia", "Thibaut"));
```

ë˜ëŠ” ë‹¤ìŒì²˜ëŸ¼ ìŠ¤íŠ¸ë¦¼ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
Set<String> friends = Stream.of("Raphael", "Olivia", "Thibaut")
														.collect(Collectors.toSet());
```

í•˜ì§€ë§Œ ë‘ ë°©ë²• ëª¨ë‘ ë§¤ë„ëŸ½ì§€ ëª»í•˜ë©° ë‚´ë¶€ì ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ê°ì²´ í• ë‹¹ì„ í•„ìš”ë¡œ í•œë‹¤. ê·¸ë¦¬ê³  ê²°ê³¼ëŠ” ë³€í™˜í•  ìˆ˜ ìˆëŠ” ì§‘í•©ì´ë¼ëŠ” ì‚¬ì‹¤ë„ ì£¼ëª©í•˜ì.

### ë¦¬ìŠ¤íŠ¸ íŒ©í† ë¦¬

List.of íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ê°„ë‹¨í•˜ê²Œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
List<String> friends = Lisf.of("Raphael", "Olivia", "Thibaut");
```

í•˜ì§€ë§Œ ë­”ê°€ ì´ìƒí•œ ì ì„ ë°œê²¬í•  ìˆ˜ ìˆë‹¤. `friends` ë¦¬ìŠ¤íŠ¸ì— ìš”ì†Œë¥¼ ì¶”ê°€í•´ë³´ì.

```java
List<String> friends = Lisf.of("Raphael", "Olivia", "Thibaut");
friends.add("Chih-Chun");
```

ì‚¬ì‹¤ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë¦¬ìŠ¤íŠ¸ê°€ ë§Œë“¤ì–´ ì¡Œê¸° ë•Œë¬¸ì´ë‹¤. `set()` ë©”ì„œë“œë¡œ ì•„ì´í…œì„ ë°”ê¾¸ë ¤í•´ë„ ë¹„ìŠ·í•œ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.  ë”°ë¼ì„œ `set()` ë©”ì„œë“œë¡œë„ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.

í•˜ì§€ë§Œ ì´ëŸ° ì œì•½ì´ ê¼­ ë‚˜ìœ ê²ƒì€ ì•„ë‹ˆë‹¤. ì»¬ë ‰ì…˜ì´ ì˜ë„ì¹˜ ì•Šê²Œ ë³€í•˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

í•˜ì§€ë§Œ ìš”ì†Œ ìì²´ê°€ ë³€í•˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ë‹¤.

### List.of VS Collectors.toList

> ğŸ™„ ì–´ë–¤ ìƒí™©ì—ì„œ List.of ë˜ëŠ” Stream APIë¥¼ ì‚¬ìš©í•´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ì•¼í• ê¹Œ?

ë°ì´í„° ì²˜ë¦¬ í˜•ì‹ì„ ì„¤ì •í•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ë³€í™˜í•  í•„ìš”ê°€ ì—†ë‹¤ë©´ ì‚¬ìš©í•˜ê¸° ê°„í¸í•œ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì´ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.

íŒ©í† ë¦¬ ë©”ì„œë“œ êµ¬í˜„ì´ ë” ë‹¨ìˆœí•˜ê³  ëª©ì ì„ ë‹¬ì„±í•˜ëŠ”ë° ì¶©ë¶„í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

### ì§‘í•© íŒ©í† ë¦¬

List.ofì™€ ë¹„ìŠ·í•œ ë°©ë²•ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ì—†ëŠ” ì§‘í•©ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
Set<String> friends = Set.of("Raphael", "Olivia", "Thibaut");
```

ì¤‘ë³µëœ ìš”ì†Œë¥¼ ì œê³µí•´ ì§‘í•©ì„ ë§Œë“¤ë ¤ê³  í•˜ë©´ Oliviaë¼ëŠ” ìš”ì†Œê°€ ì¤‘ë³µë˜ì–´ ìˆë‹¤ëŠ” ì„¤ëª…ê³¼ í•¨ê»˜ `IlleagalArgumentException`ì´ ë°œìƒí•œë‹¤.

ì§‘í•©ì€ ì˜¤ì§ ê³ ìœ ì˜ ìš”ì†Œë§Œ í¬í•¨í•  ìˆ˜ ìˆë‹¤ëŠ” ì›ì¹™ì„ ìƒê¸°ì‹œí‚¨ë‹¤.

### ë§µ íŒ©í† ë¦¬

ìë°” 9ì—ì„œëŠ” ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ì—†ëŠ” ë§µì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

Map.of íŒ©í† ë¦¬ ë©”ì„œë“œì— í‚¤ì™€ ê°’ì„ ë²ˆê°ˆì•„ ì œê³µí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ Mapì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
Map<String, Integer> ageOfFriends = 
								Map.of("Raphael", 30, "Olivia", 25, "Thibaut", 26);
```

ì—´ ê°œ ì´í•˜ì˜ keyì™€ valueìŒì„ ê°€ì§„ ì‘ì€ Mapì„ ë§Œë“¤ ë•ŒëŠ” ì´ ë©”ì†Œë“œê°€ ìœ ìš©í•˜ë‹¤.

ê·¸ ì´ìƒì˜ Mapì—ì„œëŠ” Map.Entry<K, V> ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ë°›ìœ¼ë©° ê°€ë³€ ì¸ìˆ˜ë¡œ êµ¬í˜„ëœ Map.ofEntries íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

```java
import static java.util.Map.entry;

Map<String, Integer> ageOfFrineds = 
															Map.ofEntries(entry("Raphael", 30),
																						entry("Olivia", 25),
																						entry("Thibaut", 26));
```

## Listì™€ Set ì²˜ë¦¬

ìë°” 8ì—ì„œëŠ” List, Set ì¸í„°í˜ì´ìŠ¤ì— ë‹¤ìŒê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ ì¶”ê°€í–ˆë‹¤.

- `removeIf` : Predicateë¥¼ ë§Œì¡±í•˜ëŠ” ìš”ì†Œë¥¼ ì œê±°í•œë‹¤. Listë‚˜ Setì„ êµ¬í˜„í•˜ê±°ë‚˜ ê·¸ êµ¬í˜„ì„ ìƒì†ë°›ì€ ëª¨ë“  í´ë˜ìŠ¤ì—ì„œ ì´ìš©í•  ìˆ˜ ìˆë‹¤.
- `replaceAll` : Listì—ì„œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ìœ¼ë¡œ UnaryOperator í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ìš”ì†Œë¥¼ ë°”ê¾¼ë‹¤.
- `sort` : List ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ë ¬í•œë‹¤.

ì´ë“¤ ë©”ì„œë“œëŠ” í˜¸ì¶œí•œ ì»¬ë ‰ì…˜ ìì²´ë¥¼ ë°”ê¾¼ë‹¤.

ìƒˆë¡œìš´ ê²°ê³¼ë¥¼ ë§Œë“œëŠ” ìŠ¤íŠ¸ë¦¼ ë™ì‘ê³¼ ë‹¬ë¦¬ ì´ë“¤ ë©”ì„œë“œëŠ” ê¸°ì¡´ ì»¬ë ‰ì…˜ì„ ë°”ê¾¼ë‹¤.

### ì™œ ì´ëŸ° ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì—ˆì„ê¹Œ?

```java
for (Transaction transaction : transactions) {
		if(Character.isDigit(transaction.getReferenceCode().charAt(0))){
				transactions.remove(transacation);
		}
}
```

ì•ˆíƒ€ê¹ê²Œë„ ìœ„ ì½”ë“œëŠ” `ConcurrentModificationException`ì„ ì¼ìœ¼í‚¨ë‹¤.

ì™œ ê·¸ëŸ´ê¹Œ? ë‚´ë¶€ì ìœ¼ë¡œ for-eachëŠ” Iterator ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ìœ„ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í•´ì„ëœë‹¤.

```java
for(Iterator<Transaction> itreator = transactions.iterator();
		iterator.hasNext(); ){
		Transaction transaction = iterator.next();
		if(Character.isDigit(transaction.getReferenceCode().charAt(0))){
			transactions.remove(transaction);
		}
}
```

- Iterator ê°ì²´, next(), hasNext()ë¥¼ ì´ìš©í•´ ì†ŒìŠ¤ë¥¼ ì§ˆì˜í•œë‹¤.
- Collection ê°ì²´ ìì²´, remove()ë¥¼ í˜¸ì¶œí•´ ìš”ì†Œë¥¼ ì‚­ì œí•œë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ ë°˜ë³µìì˜ ìƒíƒœë¥¼ ì»¬ë ‰ì…˜ì˜ ìƒíƒœë¡¸ ì„œë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— Exceptionì´ ë°œìƒí•œë‹¤.

ìœ„ ì½”ë“œëŠ” ìë°” 8ì˜ remooveIf ë©”ì„œë“œë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

### removeIf

```java
transactions.removeIf(transaction -> 
			Character.isDigit(trasaction.getReferenceCode().charAt(0)));
```

### replaceAll

List ì¸í„°í˜ì´ìŠ¤ì˜ replaceAll ë©”ì„œë“œë¥¼ ì´ìš©í•´ ë¦¬ìŠ¤íŠ¸ì˜ ê° ìš”ì†Œë¥¼ ìƒˆë¡œìš´ ìš”ì†Œë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

```java
referenceCodes.replaceAll(code -> 
				Chracter.toUpperCase(code.chatAt(0)) + code.substrting(1));
```

## Map ì²˜ë¦¬

ìë°” 8ì—ì„œëŠ” Map ì¸í„°í˜ì´ìŠ¤ì— ëª‡ ê°€ì§€ default ë©”ì„œë“œë¥¼ ì¶”ê°€í–ˆë‹¤.

### forEach

```java
for(Map.Entry<String, Integer> entry : ageOfFriends.entrySet()) {
		String friend = entry.getKey();
		Integer age = entry.getValue();
		System.out.println(frined + " is " + age + " years old");
}
```

ìë°” 8ì„œë¶€í„° Map ì¸í„°í˜ì´ìŠ¤ëŠ” BiConsumerë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” forEachë©”ì„œë“œë¥¼ ì§€ì›í•˜ë¯€ë¡œ ì½”ë“œë¥¼ ì¡°ê¸ˆ ë” ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```java
ageOfFriends.forEach(friend, age) -> 
					System.out.println(frined + " is " + age + " years old"));
```

### ì •ë ¬ ë©”ì„œë“œ

ë‹¤ìŒ ë‘ ê°œì˜ ìƒˆë¡œìš´ ìœ í‹¸ë¦¬í‹°ë¥¼ ì´ìš©í•˜ë©´ ë§µì˜ í•­ëª©ì„ value ë˜ëŠ” keyë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆë‹¤.

- Entry.comparingByValue
- Entry.comparingByKey

```java
Map<String, String > favouriteMovies = new HashMap<>();
		favouriteMovies.put("Raphael", "Star Wars");
		favouriteMovies.put("Cristina", "Matrix");
		favouriteMovies.put("Olivia", "James Bond");
		
favouriteMovies.entrySet()
			         .stream()
			         .sorted(Map.Entry.comparingByKey())
			         .forEachOrdered(System.out::println);
```

> HashMap ì„±ëŠ¥

ìë°” 8ì—ì„œëŠ” HashMapì˜ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë°”ê¿” ì„±ëŠ¥ì„ ê°œì„ í–ˆë‹¤.

ê¸°ì¡´ Mapì˜ í•­ëª©ì€ keyë¡œ ìƒì„±í•œ í•´ì‹œì½”ë“œë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë²„ì¼“ì— ì €ì¥í–ˆë‹¤.
ë§ì€ keyê°€ ê°™ì€ í•´ì‹œì½”ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ìƒí™©ì´ ë˜ë©´ O(n)ì˜ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” LinkedListë¡œ ë²„í‚·ì„ ë°˜í™˜í•´ì•¼ í•˜ë¯€ë¡œ ì„±ëŠ¥ì´ ì €í•˜ëœë‹¤.

ìµœê·¼ì—ëŠ” ë²„í‚·ì´ ë„ˆë¬´ ì»¤ì§ˆ ê²½ìš° ì´ë¥¼ O(log(n))ì˜ ì‹œê°„ì´ ì†Œìš”ë˜ëŠ” ì •ë ¬ëœ íŠ¸ë¦¬ë¥¼ ì´ìš©í•´ ë™ì ìœ¼ë¡œ ì¹˜í™˜í•´ ì¶©ëŒì´ ì¼ì–´ë‚˜ëŠ” ìš”ì†Œ ë°˜í™˜ ì„±ëŠ¥ì„ ê°œì„ í–ˆë‹¤.

í•˜ì§€ë§Œ keyê°€ String, Number í´ë˜ìŠ¤ ê°™ì€ Comparableì˜ í˜•íƒœì—¬ì•¼ë§Œ ì •ë ¬ëœ íŠ¸ë¦¬ê°€ ì§€ì›ëœë‹¤.

### getOfDefault

ê¸°ì¡´ì—ëŠ” ì°¾ìœ¼ë ¤ëŠ” keyê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ nullì´ ë°˜í™˜ë˜ë¯€ë¡œ NullPointerExceptionì„ ë°©ì§€í•˜ë ¤ë©´ ìš”ì²­ ê²°ê³¼ê°€ nullì¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.

ì´ ë©”ì„œë“œëŠ” ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ keyë¥¼ ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ê¸°ë³¸ê°’ì„ ë°›ìœ¼ë©° mapì— keyê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ê¸°ë³¸ê°’ì„ ë°˜í™˜í•œë‹¤.

```java
Map<String, String> favouriteMovies = new HashMap<>();
		favouriteMovies.put("Raphael", "Star Wars");
		favouriteMovies.put("Cristina", "Matrix");
		favouriteMovies.put("Olivia", "James Bond");

System.out.println(favouriteMovies.getOrDefault("Olivia", "Matrix"));
//keyì— Thibautê°€ ì—†ìœ¼ë¯€ë¡œ Matrixê°€ ì¶œë ¥ëœë‹¤.
System.out.println(favouriteMovies.getOrDefault("Thibaut", "Matrix"));

//ì¶œë ¥ê²°ê³¼
James Bond
Matrix
```

### ê³„ì‚° íŒ¨í„´

mapì— keyê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì—¬ë¶€ì— ë”°ë¼ ì–´ë–¤ ë™ì‘ì„ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ì €ì¥í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ í•„ìš”í•œ ë•Œê°€ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ keyë¥¼ ì´ìš©í•´ ê°’ë¹„ì‹¼ ë™ì‘ì„ ì‹¤í–‰í•´ì„œ ì–»ì€ ê²°ê³¼ë¥¼ ìºì‹œí•˜ë ¤ í•œë‹¤.

keyê°€ ì¡´ì¬í•˜ë©´ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ê³„ì‚°í•  í•„ìš”ê°€ ì—†ë‹¤. ë‹¤ìŒ ì„¸ ê°€ì§€ ì—°ì‚°ì´ ì´ëŸ° ìƒí™©ì—ì„œ ë„ì›€ì„ ì¤€ë‹¤.

- computeIfAbsent : ì œê³µëœ keyì— í•´ë‹¹í•˜ëŠ” ê°’ì´ ì—†ìœ¼ë©´ keyë¥¼ ì´ìš©í•´ ìƒˆ ê°’ì„ ê³„ì‚°í•˜ê³  mapì— ì¶”ê°€í•œë‹¤.
- computeIfPresent : ì œê³µëœ keyê°€ ì¡´ì¬í•˜ë©´ ìƒˆ ê°’ì„ ê³„ì‚°í•˜ê³  mapì— ì¶”ê°€í•œë‹¤.
- compute : ì œê³µëœ keyë¡œ ìƒˆ ê°’ì„ ê³„ì‚°í•˜ê³  mapì— ì €ì¥í•œë‹¤.

### computeIfAbsent

```java
Map<String, List<String>> favouriteMovies = new HashMap<>();

String friend = "Raphael";
List<String> movies = favouriteMovies.get(friend);
if(movies == null){
    movies = new ArrayList<>();
    favouriteMovies.put(friend, movies);
}
movies.add("Star Wars");

System.out.println(favouriteMovies);
```

map í•´ë‹¹ keyê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° ìƒˆë¡œìš´ ArrayList ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  mapì— keyì™€ arrayListë¥¼ putí•˜ê³  arrayListì— ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ëŠ” ì½”ë“œë‹¤.

ìœ„ì™€ ê°™ì€ ì‘ì—…ì„ `computIfAbsent`ë¥¼ ì´ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ê¹”ë”í•˜ê²Œ ì§¤ ìˆ˜ ìˆë‹¤.

```java
Map<String, List<String>> favouriteMovies = new HashMap<>();

favouriteMovies.computeIfAbsent("Raphael", name -> new ArrayList<>())
							 .add("Star Wars");

System.out.println(favouriteMovies);
```

### computeIfPresent

`computeIfPresent` ë©”ì„œë“œëŠ” í˜„ì¬ í‚¤ì™€ ê´€ë ¨ëœ ê°’ì´ mapì— ì¡´ì¬í•˜ë©° nullì´ ì•„ë‹ ë•Œë§Œ ìƒˆ ê°’ì„ ê³„ì‚°í•œë‹¤.

```java
Map<String, List<String>> favouriteMovies = new HashMap<>();
List<String> movies = new ArrayList<>();
movies.add("Star Wars");
favouriteMovies.put("Raphael", movies);

favouriteMovies.computeIfPresent("Raphael", (key, value) 
																	-> new ArrayList<>()).add("ìœ¼ì•…");

System.out.println(favouriteMovies);
```

### ì‚­ì œ íŒ¨í„´

ìë°” 8ì—ì„œëŠ” í‚¤ê°€ íŠ¹ì •í•œ ê°’ê³¼ ì—°ê´€ë˜ì—ˆì„ ë•Œë§Œ í•­ëª©ì„ ì œê±°í•˜ëŠ” ì˜¤ë²„ë¡œë“œ ë²„ì „ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤. ê¸°ì¡´ì—ëŠ” ë‹¤ìŒì²˜ëŸ¼ ì½”ë“œë¥¼ êµ¬í˜„í–ˆë‹¤.

```java
String key = "Raphael";
String value = "Jack Reacher 2";
if (favouriteMovies.containsKey(key) && Objects.equlas(favouriteMovies.get(key), value)){
		favouriteMovies.remove(key);
		return true;
}else{
		return false;
}
```

ì´ê²¬ì´ ì—†ì´ ë‹¤ìŒì²˜ëŸ¼ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```java
favouriteMovies.remove(key, value);
```

### êµì²´ íŒ¨í„´

Mapì˜ í•­ëª©ì„ ë°”ê¾¸ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‘ ê°œì˜ ë©”ì„œë“œê°€ Mapì— ì¶”ê°€ ë˜ì—ˆë‹¤.

- `replaceAll` : `BiFunction`ì„ ì ìš©í•œ ê²°ê³¼ë¡œ ê° í•­ëª©ì˜ ê°’ì„ êµì²´í•œë‹¤. ì´ ë©”ì„œë“œëŠ” ì´ì „ì— ì‚´í´ë³¸ Listì˜ replaceAllê³¼ ë¹„ìŠ·í•œ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.
- `Replace` : keyê°€ ì¡´ì¬í•˜ë©´ Mapì˜ ê°’ì„ ë°”ê¾¼ë‹¤. keyê°€ íŠ¹ì • valueë¡œ ë§¤í•‘ ë˜ì—ˆì„ ë•Œë§Œ valueë¥¼ êµì²´í•˜ëŠ” ì˜¤ë²„ë¡œë“œ ë²„ì „ë„ ìˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ Mapì˜ ëª¨ë“  valueë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

```java
Map<String, String> favouriteMovies = new HasMap<>();
favouriteMovies.put("Raphael", "Star Wars");
favouriteMovies.put("Olivia", "james bond");
favouriteMovies.replaceAll((friend, movie) -> movie.toUpperCase());
System.out.println(favouriteMovies);
```

## í•©ì¹¨

ë‘ ê·¸ë£¹ì˜ ì—°ë½ì²˜ë¥¼ í¬í•¨í•˜ëŠ” ë‘ ê°œì˜ Mapì„ í•©ì¹œë‹¤ê³  ê°€ì •í•˜ë‹¤. ë‹¤ìŒì²˜ëŸ¼ putAllì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
Map<String, String> famliy = Map.OfEntries(
																	 	 entry("Teo", "Star Wars"),
																		 entry("Cristina", "James Bond"));
Map<String, String> friends = Map.ofEntries(
																			entry("Raphael", "Star Wars"));
Map<String, String> everyone = new HashMap<>(famliy);
eveyone.putAll(friends);

System.out.println(eveyrone);
```

ì¤‘ë³µëœ í‚¤ê°€ ì—†ë‹¤ë©´ ìœ„ ì½”ë“œëŠ” ì˜ ë™ì‘í•œë‹¤. ê°’ì„ ì¢€ ë” ìœ ì—°í•˜ê²Œ í•©ì³ì•¼ í•œë‹¤ë©´ ìƒˆë¡œìš´ `merge` ë©”ì„œë“œë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ì´ ë©”ì„œë“œëŠ” ì¤‘ë³µëœ í‚¤ë¥¼ ì–´ë–»ê²Œ í•©ì¹ ì§€ ê²°ì •í•˜ëŠ” `BiFunction`ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ”ë‹¤.

familyì™€ friends ë‘ Map ëª¨ë‘ì— Cristinaê°€ ë‹¤ë¥¸ ì˜í™” ê°’ìœ¼ë¡œ ì¡´ì¬í•œë‹¤ê³  ê°€ì •í•˜ì.

```java
Map<String, String> famlily = Mpa.ofEntries(
																			entry("Teo", "Star Wars"),
																			entry("Cristina", "James Bond"));
Map<String, String> friends = Map.ofEntries(
																			entry("Raphael", "Star Wars"),
																			entry("Cristina", "Matrix"));
```

forEachì™€ mergeë©”ì„œë“œë¥¼ ì´ìš”í•´ ì¶©ëŒì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```java
Map<String, String> everyone = new HashMap<>(famliy);
friends.forEach((k, v) -> everyone.merge(k, v, (movie1, movie2) -> movie1 + " & " + movie2));
System.out.println(everyone);
```