# Chapter2 ë™ì‘ íŒŒë¼ë¯¸í„°í™” ì½”ë“œ ì „ë‹¬í•˜ê¸°

# ë™ì‘ íŒŒë¼ë¯¸í„°í™” ì „ë‹¬í•˜ê¸°

ìš°ë¦¬ê°€ ì–´ë–¤ ìƒí™©ì—ì„œ ì¼ì„ í•˜ë“  ì†Œë¹„ì ìš”êµ¬ì‚¬í•­ì€ í•­ìƒ ë°”ë€ë‹¤. ë³€í™”í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë§ì—ì„œ í”¼í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œë‹¤.

`ë™ì‘ íŒŒë¼ë¯¸í„°í™”` ë¥¼ ì´ìš©í•˜ë©´ ìì£¼ ë°”ë€ŒëŠ” ìš”êµ¬ì‚¬í•­ì— íš¨ê³¼ì ìœ¼ë¡œ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤.

### ë™ì‘ íŒŒë¼ë¯¸í„°í™”ë€?

- ì•„ì§ì€ ì–´ë–»ê²Œ ì‹¤í–‰í•  ê²ƒì¸ì§€ ê²°ì •í•˜ì§€ ì•Šì€ ì½”ë“œ ë¸”ë¡

# ë³€í™”í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì— ëŒ€ì‘í•˜ê¸°

í•˜ë‚˜ì˜ ì˜ˆì œë¥¼ ì„ ì •í•œ ë‹¤ìŒ ì˜ˆì œì½”ë“œë¥¼ ì ì°¨ ê°œì„ í•˜ë©´ì„œ ìœ ì—°í•œ ì½”ë“œë¥¼ ë§Œë“œëŠ” ëª¨ë²”ì‚¬ë¡€ë¥¼ ë³´ì

### ì²«ë²ˆì§¸ ì‹œë„ : ë…¹ìƒ‰ ì‚¬ê³¼ í•„í„°ë§

```java

/* ë…¹ìƒ‰ ì‚¬ê³¼ë§Œ í•„í„°ë§ í•˜ëŠ” ì‘ì—…*/

enum Color { RED, GREEN }

public static List<Apple> filterGreenApples(List<Apple> inventory){
    List<Apple> result = new ArrayList<>();  // <- ì‚¬ê³¼ ëˆ„ì  ë¦¬ìŠ¤íŠ¸
    for(Apple apple : inventory){
        if(Color.GREEN.equals(apple.getColor())){  //<- ë…¹ìƒ‰ì‚¬ê³¼ë§Œ ì„ íƒ
            result.add(apple);
        }
    }
    return result;
}
```

ê°‘ìê¸° ë†ë¶€ê°€ ë³€ì‹¬í•˜ì—¬ ë…¹ìƒ‰ ì‚¬ê³¼ ë§ê³  **`ë¹¨ê°„`** ì‚¬ê³¼ë„ í•„í„°ë§ í•˜ê³  ì‹¶ì–´ì¡Œë‹¤. ì–´ë–»ê²Œ ê³ ì³ì•¼ í• ê¹Œ?ğŸ˜®

í¬ê²Œ ê³ ë¯¼í•˜ì§€ ì•Šì€ ì‚¬ëŒì´ë¼ë©´ ë©”ì„œë“œë¥¼ ë³µì‚¬í•´ì„œ filterRedApplesë¼ëŠ” ìƒˆë¡œìš´ ë©”ì„œë“œë¥¼ ë§Œë“¤ê³ , ifë¬¸ì˜ ì¡°ê±´ì„ `**ë¹¨ê°„**` ì‚¬ê³¼ë¡œ ë°”ê¾¸ëŠ” ë°©ë²•ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

ì´ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ **`ë¹¨ê°„`** ì‚¬ê³¼ë¥¼ í•„í„°ë§ í•  ìˆ˜ëŠ” ìˆê² ì§€ë§Œ ë‚˜ì¤‘ì— ë†ë¶€ê°€ ì¢€ ë” ë‹¤ì–‘í•œ ìƒ‰ìœ¼ë¡œ í•„í„°ë§í•˜ëŠ” ë“±ì˜ ë³€í™”ì—ëŠ” ì ì ˆí•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ì—†ë‹¤.

> ê±°ì˜ ë¹„ìŠ·í•œ ì½”ë“œê°€ ë°˜ë³µ ì¡´ì¬í•œë‹¤ë©´ ê·¸ ì½”ë“œë¥¼ ì¶”ìƒí™”í•œë‹¤.

### ë‘ë²ˆì§¸ ì‹œë„ : ìƒ‰ì„ íŒŒë¼ë¯¸í„°í™”

```java
public static List<Apple> filterApplesByColor(List<Apple> inventory, Color color){
    List<Apple> result = new ArrayList<>();
    for(Apple apple : inventory){
        if(apple.getColor().equals(color)){
            result.add(apple);
        }
    }
    return result;
}

List<Apple> greenApples = filterApplesByColor(inventory, GREEN);
List<Apple> redApples = filterApplesByColor(inventory, RED);
```

### ì„¸ë²ˆì§¸ ì‹œë„ : ê°€ëŠ¥í•œ ëª¨ë“  ì†ì„±ìœ¼ë¡œ í•„í„°ë§

```java
public static List<Apple> filterApplesByColor(List<Apple> inventory, Color color,int weight, boolean flag){
    List<Apple> result = new ArrayList<>();
    for(Apple apple : inventory){
        if((flag && apple.getColor().equals(color)) ||
                (!flag && apple.getWeight() > weight)){
            result.add(apple);
        }
    }
    return result;
}

List<Apple> greenApples = filterApples(inventory, GREEN, 0, true);
List<Apple> heavyApples = filterApples(inventory, null, 150, false);
```

ìœ„ì™€ ê°™ì´ íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì´ ì•„ë‹Œ ë³€í™”í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì— ì¢€ ë” ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì ˆì‹¤í•˜ë‹¤ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤.

ìš°ë¦¬ëŠ” ì„ íƒ ì¡°ê±´ì„ ë‹¤ìŒì²˜ëŸ¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤.

- ì‚¬ê³¼ì˜ ì–´ë–¤ ì†ì„±ì— ê¸°ì´ˆí•´ì„œ `boolean` ê°’ì„ ë°˜í™˜

> ì„ íƒ ì¡°ê±´ì„ ê²°ì •í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•´ë³´ì

```java
public interface ApplePredicate{
    boolean test (Apple apple);
}

class AppleHeavyWeightPredicate implements ApplePredicate{ // ë¬´ê±°ìš´ ì‚¬ê³¼ë§Œ ì„ íƒ
    public boolean test(Apple apple){
        return apple.getWeight();
    }
}

class AppleGreenColorPredicate implements ApplePredicate{  // ë…¹ìƒ‰ ì‚¬ê³¼ë§Œ ì„ íƒ
    public boolean test(Apple apple) {
        return GREEN.equals(apple.getColor());
    }
}
```

![Chapter2%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%91%E1%85%A1%E1%84%85%E1%85%A1%E1%84%86%E1%85%B5%E1%84%90%E1%85%A5%E1%84%92%E1%85%AA%20%E1%84%8F%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%83%E1%85%A1%E1%86%AF%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%205a95cfbcfe304e33a30f4986ef606e0f/Untitled.png](Chapter2%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%91%E1%85%A1%E1%84%85%E1%85%A1%E1%84%86%E1%85%B5%E1%84%90%E1%85%A5%E1%84%92%E1%85%AA%20%E1%84%8F%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%83%E1%85%A1%E1%86%AF%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%205a95cfbcfe304e33a30f4986ef606e0f/Untitled.png)

ìœ„ ì¡°ê±´ì— ë”°ë¼ filterë©”ì„œë“œê°€ ë‹¤ë¥´ê²Œ ë™ì‘í•  ê²ƒì´ë¼ê³  ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ì „ëµ ë””ìì¸íŒ¨í„´ì´ë¼ í•œë‹¤.

> ì „ëµ ë””ìì¸ íŒ¨í„´ì€ ê° ì•Œê³ ë¦¬ì¦˜ (ì „ëµì´ë¼ ë¶ˆë¦¬ëŠ”)ì„ ìº¡ìŠí™”í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ íŒ¨ë°€ë¦¬ë¥¼ ì •ì˜í•´ë‘” ë‹¤ìŒì— ëŸ°íƒ€ì„ì— ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ëŠ” ê¸°ë²•ì´ë‹¤.

### ë„¤ ë²ˆì§¸ ì‹œë„ : ì¶”ìƒì  ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§

```java

public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p){
    List<Apple> result = new ArrayList<>();
    for(Apple apple : inventory){
        if(p.test(apple)){  // <- í”„ë ˆë””ì¼€ì´íŠ¸ ê°ì²´ë¡œ ì‚¬ê³¼ ê²€ì‚¬ì¡°ê±´ì„ ìº¡ìŠí™” í–ˆë‹¤.
            result.add(apple);
        }
    }
    return result;
}
```

```java
// ì˜ˆì œì½”ë“œ
// 150ê·¸ë¨ì´ ë„˜ëŠ” ë¹¨ê°„ ì‚¬ê³¼ë¥¼ í•„í„°ë§ í•˜ëŠ” ì˜ˆì œ
public class AppleRedAndHeavyPredicate implements ApplePredicate {
		public boolean test(Apple apple){
				return RED.equals(apple.getColor()) && apple.getWeight() > 150;
		}
}

List<Apple> redAndHeavyApples = filterApples(inventory, new AppleRedAndHeavyPredicate());
```

![Chapter2%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%91%E1%85%A1%E1%84%85%E1%85%A1%E1%84%86%E1%85%B5%E1%84%90%E1%85%A5%E1%84%92%E1%85%AA%20%E1%84%8F%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%83%E1%85%A1%E1%86%AF%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%205a95cfbcfe304e33a30f4986ef606e0f/Untitled%201.png](Chapter2%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%91%E1%85%A1%E1%84%85%E1%85%A1%E1%84%86%E1%85%B5%E1%84%90%E1%85%A5%E1%84%92%E1%85%AA%20%E1%84%8F%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%83%E1%85%A1%E1%86%AF%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%205a95cfbcfe304e33a30f4986ef606e0f/Untitled%201.png)

# ë³µì¡í•œ ê³¼ì • ê°„ì†Œí™”

ì•„ë˜ ì˜ˆì œì—ì„œ ìš”ì•½í•˜ëŠ” ê²ƒì²˜ëŸ¼ í˜„ì¬ filterApples ë©”ì„œë“œë¡œ ìƒˆë¡œìš´ ë™ì‘ì„ ì „ë‹¬í•˜ë ¤ë©´ ApplePredicate ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì—¬ëŸ¬ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•œ ë‹¤ìŒì— ì¸ìŠ¤í„´ìŠ¤í™” í•´ì•¼í•œë‹¤.

```java
interface ApplePredicate{
    boolean test (Apple apple);
}

public class AppleHeavyWeightPredicate implements ApplePredicate{
    public boolean test(Apple apple){ // <- ë¬´ê±°ìš´ ì‚¬ê³¼ ì„ íƒ
        return apple.getWeight() > 150;
    }
}

public class AppleGreenColorPredicate implements ApplePredicate{
    public boolean test(Apple apple) { // <- ë…¹ìƒ‰ ì‚¬ê³¼ ì„ íƒ
        return GREEN.equals(apple.getColor());
    }
}

public static void main(String[] args) {
    List<Apple> inventory = Arrays.asList(new Apple(80, GREEN),
                                        new Apple(155, GREEN),
                                        new Apple(120, RED));

    List<Apple> heavyApples = filterApples(inventory, new AppleHeavyWeightPredicate());
    List<Apple> greenApples = filterApples(inventory, new AppleGreenColorPredicate())
}

public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p){
    List<Apple> result = new ArrayList<>();
    for(Apple apple : inventory){
        if(p.test(apple)){
            result.add(apple);
        }
    }
    return result;
}
```

### ë‹¤ì„¯ ë²ˆì§¸ ì‹œë„ : ìµëª… í´ë˜ìŠ¤ ì‚¬ìš©

`ìµëª… í´ë˜ìŠ¤`ëŠ” ìë°”ì˜ ì§€ì—­ í´ë˜ìŠ¤ì™€ ë¹„ìŠ·í•œ ê°œë…ì´ë‹¤. ìµëª… í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ë©´ í´ë˜ìŠ¤ ì„ ì–¸ê³¼ ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ ë™ì‹œì— í•  ìˆ˜ìˆë‹¤.

```java
List<Apple> redApples = filterApples(inventory, new ApplePredicate() { // <- ì¤‘ë³µì½”ë“œ
    @Override
    public boolean test(Apple apple) {
        return RED.equlas(apple.getColor());
    }
});

List<Apple> heavyApples = filterApples(inventory, new ApplePredicate() { // <-ì¤‘ë³µì½”ë“œ
    @Override
    public boolean test(Apple apple) {
        return apple.getWeight() > 150;
    }
});
```

### ì—¬ì„¯ ë²ˆì§¸ ì‹œë„ : ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©

ìë°” 8ì˜ ëŒë‹¤ í‘œí˜„ì‹ì„ ì´ìš©í•´ì„œ ìœ„ ì˜ˆì œ ì½”ë“œë¥¼ ë‹¤ìœ¼ë¨¸ëŸ¼ ê°„ë‹¨í•˜ê²Œ ì¬êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```java
List<Apple> redApples = filterApples(inventory, (Apple apple) -> RED.equals(apple.getColor()));
```

### ì¼ê³± ë²ˆì§¸ ì‹œë„ : ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ì¶”ìƒí™”

```java
public interface Predicate<T>{
    boolean test(T t);
}

public static <T> List<T> filter(List<T> list, Predicate<T> p){
    List<T> result = new ArrayList<>();
    for(T e: list){
        if(p.test(e)){
            result.add(e);
        }
    }
    return result;
}

List<Apple> redApples = filter(inventory, apple -> RED.equals(apple.getColor()));
List<Integer> evenNumbers = filter(numbers, i -> i % 2 == 0 );
```

## ë§ˆì¹˜ë©°

- ë™ì‘ íŒŒë¼ë¯¸í„°í™”ì—ì„œëŠ” ë©”ì„œë“œ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ì–‘í•œ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ë©”ì„œë“œ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.
- ë™ì‘ íŒŒë¼ë¯¸í„°í™”ë¥¼ ì´ìš©í•˜ë©´ ë³€í™”í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì— ë” ì˜ ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë©° ë‚˜ì¤‘ì— ì—”ì§€ë‹ˆì–´ë§ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.